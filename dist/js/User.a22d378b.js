(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["User"],{"01cf":function(e,r,s){},"790c":function(e,r,s){"use strict";var t=s("dbe3"),a=s.n(t);a.a},a13b:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("el-main",[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:8}},[s("el-form",{ref:"user",staticClass:"form",attrs:{"status-icon":"",model:e.user,"label-width":"200px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("user.username"),prop:"username"}},[s("el-input",{attrs:{placeholder:e.$t("user.username")},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}})],1),s("el-form-item",{attrs:{label:e.$t("user.password"),prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:e.$t("user.password"),autocomplete:"off"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),s("el-form-item",{attrs:{label:e.$t("user.confirm"),prop:"confirm"}},[s("el-input",{attrs:{type:"password",placeholder:e.$t("user.confirm"),autocomplete:"off"},model:{value:e.user.confirm,callback:function(r){e.$set(e.user,"confirm",r)},expression:"user.confirm"}})],1),s("el-form-item",{attrs:{label:e.$t("user.display"),prop:"display"}},[s("el-input",{attrs:{placeholder:e.$t("user.display")},model:{value:e.user.display,callback:function(r){e.$set(e.user,"display",r)},expression:"user.display"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("nav.regist")))])],1)],1)],1)],1)],1)},a=[],u=s("be94"),i=s("2f62"),o=Object(i["a"])("user"),n=o.mapActions,l={name:"Regist",data:function(){return{user:{},rules:{username:[{required:!0,message:this.$t("common.required",[this.$t("user.username")]),trigger:"blur"}],password:[{required:!0,validator:this.validatePass,trigger:"blur"}],confirm:[{required:!0,validator:this.validatePass2,trigger:"blur"}]}}},watch:{$route:function(){this.rules.username[0].message=this.$t("common.required",[this.$t("user.username")]),this.$refs.user.validate()}},methods:Object(u["a"])({},n(["regist"]),{submitForm:function(){var e=this;this.$refs.user.validate(function(r){if(!r)return!1;e.regist(e.user).then(function(){e.$router.push({name:"login"})}).catch(function(){e.$message.error(e.$t("user.registError"))})})},validatePass:function(e,r,s){void 0===r||""===r?s(new Error(this.$t("user.requirePassword"))):(void 0===this.user.confirm&&""===this.user.confirm||this.$refs.user.validateField("confirm"),s())},validatePass2:function(e,r,s){void 0===r||""===r?s(new Error(this.$t("user.requireConfirm"))):r!==this.user.password?s(new Error(this.$t("user.confirmFail"))):s()}})},c=l,m=(s("790c"),s("2877")),p=Object(m["a"])(c,t,a,!1,null,null,null);p.options.__file="Regist.vue";r["default"]=p.exports},ab86:function(e,r,s){"use strict";var t=s("01cf"),a=s.n(t);a.a},ac2a:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("el-main",[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:8}},[s("el-form",{ref:"user",staticClass:"form",attrs:{"status-icon":"",model:e.user,"label-width":"200px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("user.username"),prop:"username"}},[s("el-input",{attrs:{placeholder:e.$t("user.username")},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}})],1),s("el-form-item",{attrs:{label:e.$t("user.password"),prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:e.$t("user.password"),autocomplete:"off"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("nav.login")))])],1)],1)],1)],1)],1)},a=[],u=s("be94"),i=(s("cadf"),s("551c"),s("097d"),s("2f62")),o=Object(i["a"])("user"),n=o.mapActions,l={name:"Regist",data:function(){return{user:{},rules:{username:[{required:!0,message:this.$t("common.required",[this.$t("user.username")]),trigger:"blur"}],password:[{required:!0,message:this.$t("common.required",[this.$t("user.password")]),trigger:"blur"}]}}},watch:{$route:function(){this.rules.username[0].message=this.$t("common.required",[this.$t("user.username")]),this.rules.password[0].message=this.$t("common.required",[this.$t("user.password")]),this.$refs.user.validate()}},methods:Object(u["a"])({},n(["login"]),{submitForm:function(){var e=this;this.$refs.user.validate(function(r){if(!r)return!1;e.login(e.user).then(function(r){localStorage.setItem("api_key",r.api_key),e.$router.push({name:"home"})}).catch(function(){e.$message.error(e.$t("user.loginError"))})})},validatePass:function(e,r,s){void 0!==r&&""!==r||s(new Error(this.$t("user.requirePassword")))}})},c=l,m=(s("ab86"),s("2877")),p=Object(m["a"])(c,t,a,!1,null,null,null);p.options.__file="Login.vue";r["default"]=p.exports},dbe3:function(e,r,s){}}]);
//# sourceMappingURL=User.a22d378b.js.map