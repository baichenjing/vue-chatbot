{"version":3,"sources":["webpack:///./src/views/user/Regist.vue?98fd","webpack:///./src/views/user/Regist.vue?3b32","webpack:///src/views/user/Regist.vue","webpack:///./src/views/user/Regist.vue?8ce5","webpack:///./src/views/user/Regist.vue","webpack:///./src/views/user/Login.vue?401a","webpack:///./src/views/user/Login.vue?4988","webpack:///src/views/user/Login.vue","webpack:///./src/views/user/Login.vue?acc0","webpack:///./src/views/user/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Regist_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Regist_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","type","justify","span","ref","staticClass","status-icon","model","user","label-width","rules","label","$t","prop","placeholder","value","callback","$$v","$set","expression","autocomplete","on","click","submitForm","_v","_s","staticRenderFns","Object","vuex_esm","mapActions","Registvue_type_script_lang_js_","name","data","username","required","message","trigger","password","validator","validatePass","confirm","validatePass2","watch","$route","$refs","validate","methods","objectSpread","_this","valid","regist","then","$router","push","catch","$message","error","rule","undefined","Error","validateField","user_Registvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","Loginvue_type_script_lang_js_","login","localStorage","setItem","api_key","user_Loginvue_type_script_lang_js_"],"mappings":"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","file":"js/User.a22d378b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Regist.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Regist.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form',{ref:\"user\",staticClass:\"form\",attrs:{\"status-icon\":\"\",\"model\":_vm.user,\"label-width\":\"200px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('user.username'),\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('user.username')},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('user.password'),\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('user.password'),\"autocomplete\":\"off\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('user.confirm'),\"prop\":\"confirm\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('user.confirm'),\"autocomplete\":\"off\"},model:{value:(_vm.user.confirm),callback:function ($$v) {_vm.$set(_vm.user, \"confirm\", $$v)},expression:\"user.confirm\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('user.display'),\"prop\":\"display\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('user.display')},model:{value:(_vm.user.display),callback:function ($$v) {_vm.$set(_vm.user, \"display\", $$v)},expression:\"user.display\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(_vm._s(_vm.$t(\"nav.regist\")))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-main>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <el-form status-icon :model=\"user\" ref=\"user\" label-width=\"200px\" :rules=\"rules\" class=\"form\">\r\n          <el-form-item :label=\"$t('user.username')\" prop=\"username\">\r\n            <el-input v-model=\"user.username\" :placeholder=\"$t('user.username')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('user.password')\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"user.password\" :placeholder=\"$t('user.password')\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('user.confirm')\" prop=\"confirm\">\r\n            <el-input type=\"password\" v-model=\"user.confirm\" :placeholder=\"$t('user.confirm')\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('user.display')\" prop=\"display\">\r\n            <el-input v-model=\"user.display\" :placeholder=\"$t('user.display')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm\">{{ $t(\"nav.regist\") }}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapActions } = createNamespacedHelpers(\"user\");\r\n\r\nexport default {\r\n  name: \"Regist\",\r\n  data() {\r\n    return {\r\n      user: {},\r\n      rules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"common.required\", [this.$t(\"user.username\")]),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            validator: this.validatePass,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        confirm: [\r\n          {\r\n            required: true,\r\n            validator: this.validatePass2,\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.rules.username[0].message = this.$t(\"common.required\", [\r\n        this.$t(\"user.username\")\r\n      ]);\r\n      this.$refs.user.validate();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"regist\"]),\r\n    submitForm() {\r\n      this.$refs.user.validate(valid => {\r\n        if (valid) {\r\n          this.regist(this.user)\r\n            .then(() => {\r\n              this.$router.push({ name: \"login\" });\r\n            })\r\n            .catch(() => {\r\n              this.$message.error(this.$t(\"user.registError\"));\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    validatePass(rule, value, callback) {\r\n      if (value === undefined || value === \"\") {\r\n        callback(new Error(this.$t(\"user.requirePassword\")));\r\n      } else {\r\n        if (this.user.confirm !== undefined || this.user.confirm !== \"\") {\r\n          this.$refs.user.validateField(\"confirm\");\r\n        }\r\n        callback();\r\n      }\r\n    },\r\n    validatePass2(rule, value, callback) {\r\n      if (value === undefined || value === \"\") {\r\n        callback(new Error(this.$t(\"user.requireConfirm\")));\r\n      } else if (value !== this.user.password) {\r\n        callback(new Error(this.$t(\"user.confirmFail\")));\r\n      } else {\r\n        callback();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.el-select\r\n  width 100%\r\n.form\r\n  margin-top 30px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Regist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Regist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Regist.vue?vue&type=template&id=2dadca4f&\"\nimport script from \"./Regist.vue?vue&type=script&lang=js&\"\nexport * from \"./Regist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Regist.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Regist.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form',{ref:\"user\",staticClass:\"form\",attrs:{\"status-icon\":\"\",\"model\":_vm.user,\"label-width\":\"200px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('user.username'),\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('user.username')},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('user.password'),\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('user.password'),\"autocomplete\":\"off\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(_vm._s(_vm.$t(\"nav.login\")))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-main>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <el-form status-icon :model=\"user\" ref=\"user\" label-width=\"200px\" :rules=\"rules\" class=\"form\">\r\n          <el-form-item :label=\"$t('user.username')\" prop=\"username\">\r\n            <el-input v-model=\"user.username\" :placeholder=\"$t('user.username')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('user.password')\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"user.password\" :placeholder=\"$t('user.password')\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm\">{{ $t(\"nav.login\") }}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapActions } = createNamespacedHelpers(\"user\");\r\n\r\nexport default {\r\n  name: \"Regist\",\r\n  data: function() {\r\n    return {\r\n      user: {},\r\n      rules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"common.required\", [this.$t(\"user.username\")]),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"common.required\", [this.$t(\"user.password\")]),\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.rules.username[0].message = this.$t(\"common.required\", [\r\n        this.$t(\"user.username\")\r\n      ]);\r\n      this.rules.password[0].message = this.$t(\"common.required\", [\r\n        this.$t(\"user.password\")\r\n      ]);\r\n      this.$refs.user.validate();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"login\"]),\r\n    submitForm() {\r\n      this.$refs.user.validate(valid => {\r\n        if (valid) {\r\n          this.login(this.user)\r\n            .then(data => {\r\n              localStorage.setItem(\"api_key\", data.api_key);\r\n              this.$router.push({ name: \"home\" });\r\n            })\r\n            .catch(() => {\r\n              this.$message.error(this.$t(\"user.loginError\"));\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    validatePass(rule, value, callback) {\r\n      if (value === undefined || value === \"\") {\r\n        callback(new Error(this.$t(\"user.requirePassword\")));\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.el-select\r\n  width 100%\r\n.form\r\n  margin-top 30px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6f247fda&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}